"use strict";(self.webpackChunkviews=self.webpackChunkviews||[]).push([[188],{1327:(e,t,n)=>{n.d(t,{A:()=>y});var a=n(5043),s=n(3519),i=n(5171),l=n(579);const r=()=>(0,l.jsx)(i.A,{className:"bg-body-tertiary",children:(0,l.jsx)(s.A,{children:(0,l.jsx)(i.A.Brand,{children:(0,l.jsxs)("span",{style:{fontSize:"15px",textAlign:"right"},children:[(0,l.jsx)("img",{alt:"",src:"/img/thumbs-up.png",width:"30",height:"30",className:"d-inline-block align-top"})," ",'"\ubbf8\ub798\ub294 \uc624\ub298 \uc5ec\ub7ec\ubd84\uc774 \ubb34\uc5c7\uc744 \ud558\ub290\ub0d0\uc5d0 \ub2ec\ub824 \uc788\uc2b5\ub2c8\ub2e4." - \ub9c8\ud558\ud2b8\ub9c8 \uac04\ub514 ',(0,l.jsx)("br",{}),"The future depends on what we do in the present. -Mahatma Gandhi"]})})})});var o=n(7527),c=n(2691),d=n(1666),h=n(4282),u=n(3637),x=n(2104),g=n(3083),m=n(4462);n(9320),n(9317);const j=e=>{const{loginState:t,isLogin:n}=(0,m.A)(),[r,j]=(0,a.useState)(!1),[p,y]=(0,a.useState)(""),[f,b]=(0,a.useState)([]),[A,v]=(0,a.useState)(""),[C,k]=(0,a.useState)(""),w=(0,a.useRef)(),S=(0,a.useRef)(),{moveToLogin:R}=(0,m.A)(),L=(0,a.useRef)(),[T,N]=(0,a.useState)(null);(0,a.useEffect)((()=>(null===T||void 0===T||T.on("roomcreate",(function(e){var t;b((t=>[...t,{msg:e,type:"welcome",id:""}])),j((()=>!0)),null===(t=L.current)||void 0===t||t.scrollIntoView({behavior:"smooth",block:"end"})})),null===T||void 0===T||T.on("message",(function(e){var n;const{message:a,username:s,chatroomname:i}=e;b((e=>[...e,{msg:a,type:t===s?"me":"other",id:s}])),null===(n=L.current)||void 0===n||n.scrollIntoView({behavior:"smooth",block:"end"}),y((()=>""))})),null===T||void 0===T||T.on("out",(function(e){b((t=>[...t,{msg:e.message,type:"goodbye",id:""}])),T.id})),()=>{null===T||void 0===T||T.off("message"),null===T||void 0===T||T.off("out"),null===T||void 0===T||T.off("roomcreate")})),[T]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.A,{className:"bg-body-tertiary",expand:"lg",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,l.jsxs)(s.A,{fluid:!0,children:[(0,l.jsxs)(i.A.Brand,{children:[(0,l.jsx)(u.A,{src:"/img/sunglass.png",style:{height:"50px",width:"50px"}}),"\ud558\ub8e8\uad00\ub9ac"]}),(0,l.jsxs)(i.A.Collapse,{children:[(0,l.jsxs)(o.A,{className:"me-auto",children:[(0,l.jsx)(o.A.Link,{href:"/",children:"Home"}),n?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.A.Link,{href:"/diary",children:"\uc0ac\uc9c4\uc77c\uae30"}),(0,l.jsx)(o.A.Link,{href:"/diet",children:"\uc2dd\ub2e8\uad00\ub9ac"}),(0,l.jsx)(o.A.Link,{href:"/exercise",children:"\uc6b4\ub3d9\uad00\ub9ac"}),(0,l.jsx)(o.A.Link,{href:"/money",children:"\uae08\uc804\uad00\ub9ac"}),(0,l.jsx)(o.A.Link,{href:"/logout",children:"\ub85c\uadf8\uc544\uc6c3"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.A.Link,{href:"/login",children:"\ub85c\uadf8\uc778"}),(0,l.jsx)(o.A.Link,{href:"/join",children:"\ud68c\uc6d0\uac00\uc785"})]})]}),(0,l.jsxs)(c.A,{onSubmit:e=>(e=>{if(e.preventDefault(),!n)return alert("\ub85c\uadf8\uc778 \ud6c4 \uc774\uc6a9\uac00\ub2a5\ud569\ub2c8\ub2e4."),R();if(""===A||void 0===A)return void alert("\ubc29 \uc774\ub984\uc744 \uc785\ub825\ud558\uc138\uc694!");if(""===C||void 0===C)return void alert("\ubc29 \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694!");const a=(0,x.io)({autoConnect:!1});a.connect(),N((()=>a));const s={username:t,chatroomname:A,chatroompassword:C};a.emit("roomcreate",s)})(e),children:[" ",(0,l.jsxs)(d.A,{size:"sm",style:{width:"600px"},children:[(0,l.jsx)(d.A.Text,{children:"\ucc44\ud305\ubc29\uba85"}),(0,l.jsx)(c.A.Control,{type:"text",name:"chatroomname",onChange:e=>{v((()=>e.target.value))},value:A,ref:w}),(0,l.jsx)(d.A.Text,{children:"\ubc29\ube44\ubc00\ubc88\ud638"}),(0,l.jsx)(c.A.Control,{type:"text",name:"chatroompassword",ref:S,onChange:e=>{k((()=>e.target.value))},value:C}),(0,l.jsx)(h.A,{variant:"outline-secondary",type:"submit",children:"\ucc44\ud305\ud558\uae30"})]})]})]})]})}),r&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"modal show",style:{display:"block"},children:(0,l.jsxs)(g.A.Dialog,{children:[(0,l.jsxs)(g.A.Header,{children:[(0,l.jsxs)(g.A.Title,{children:[" \ucc44\ud305\ubc29\uba85 : ",A," "]}),"\xa0 \xa0",(0,l.jsx)(h.A,{variant:"outline-secondary",style:{textAlign:"left"},onClick:()=>{window.confirm("\ucc44\ud305\ubc29\uc5d0\uc11c \ub098\uac00\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(T.emit("out",{chatroomname:A,loginState:t,chatroompassword:C}),N(null),b([]),v(""),k(""),j((()=>!1)))},type:"button",children:"\ucc44\ud305\ucc3d\ub2eb\uae30"})]}),(0,l.jsx)(g.A.Body,{children:(0,l.jsx)("div",{style:{overflow:"scroll",height:"500px"},children:(0,l.jsxs)("ul",{children:[f.map(((e,t)=>"welcome"===e.type||"goodbye"===e.type?(0,l.jsxs)("li",{style:{listStyle:"none"},children:[(0,l.jsx)("div",{style:{height:"0.5px",flex:"1 1 auto",padding:"0 10px",backgroundColor:"#cecece"}}),(0,l.jsx)("div",{children:e.msg}),(0,l.jsx)("div",{style:{height:"0.5px",flex:"1 1 auto",padding:"0 10px",backgroundColor:"#cecece"}})]},t):"me"===e.type?(0,l.jsxs)("li",{style:{textAlign:"left",listStyle:"none"},children:[(0,l.jsx)("div",{style:{marginTop:"5px",fontSize:"13px",fontWeight:"bold"},children:e.id}),(0,l.jsx)("div",{style:{padding:"5px",display:"inline-block",borderTopRightRadius:"20px",borderBottomLeftRadius:"20px",borderBottomRightRadius:"20px",backgroundColor:"#cecece"},children:e.msg})]},`${t}_1`):(0,l.jsxs)("li",{style:{textAlign:"right",listStyle:"none"},children:[(0,l.jsx)("div",{style:{marginTop:"5px",fontSize:"13px",fontWeight:"bold"},children:e.id}),(0,l.jsx)("div",{style:{padding:"5px",display:"inline-block",borderTopRightRadius:"20px",borderBottomLeftRadius:"20px",borderBottomRightRadius:"20px",backgroundColor:"#000",color:"#fff"},children:e.msg})]},`${t}_2`))),(0,l.jsx)("li",{ref:L,style:{listStyle:"none"}})]})})}),(0,l.jsx)(c.A,{onSubmit:e=>(e=>{e.preventDefault();const n={message:p,username:t,chatroomname:A};T.emit("message",n)})(e),children:(0,l.jsxs)(g.A.Footer,{children:[(0,l.jsxs)(d.A,{className:"mb-3",children:[(0,l.jsx)(d.A.Text,{id:"inputGroup-sizing-default",children:"\ucc44\ud305\ub0b4\uc6a9"}),(0,l.jsx)(c.A.Control,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default",onChange:e=>(e=>{y((()=>e.target.value))})(e),value:p,name:"chatcontents"})]}),(0,l.jsx)(h.A,{variant:"outline-primary",type:"submit",style:{textAlign:"right"},children:"\uba54\uc2dc\uc9c0\ubcf4\ub0b4\uae30"})]})})]})})})]})},p=e=>(0,l.jsx)(j,{isLogin:e.isLogin}),y=e=>{let{children:t}=e;const[n,s]=(0,a.useState)(new Date),{loginState:i,isLogin:o}=(0,m.A)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(p,{isLogin:o}),t,(0,l.jsx)(r,{})]})}},2188:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var a=n(5043),s=n(1675),i=n(4462),l=n(4905),r=n(8449),o=n(1666),c=n(4282),d=n(2691),h=n(3637),u=n(579);const x={quantity:0,choose:null,content:"",dateobject:"",email:""},g={content:"",quantity:0},m=()=>{const[e]=(0,s.ok)(),[t,n]=(e.get("choose"),(0,a.useState)({...x})),[m,j]=(0,a.useState)(!1),p=(0,a.useRef)(null),[y,f]=(0,a.useState)({...g}),[b,A]=(0,a.useState)(!1),[v,C]=(0,a.useState)(!0),{postDietC:k,moveToDietRead:w,moveToDietCreate:S,moveToDietList:R}=(0,l.A)();let{loginState:L}=(0,i.A)();var{dateobject:T}=(0,s.g)();const[N,D]=(0,a.useState)(""),[q,F]=(0,a.useState)([]),[$,E]=(0,a.useState)([]),[B,z]=(0,a.useState)([]),G=(0,a.useRef)(null),I=(0,a.useRef)(null),O=(0,a.useRef)(null),P=(0,a.useRef)(null),{exceptionHandle:_}=(0,i.A)(),H=(0,a.useCallback)((e=>{const a=new RegExp(/^[0-9]+$/);if("quantity"===e.target.name){let t=Number(e.target.value);a.test(t);if(!a.test(t)||"NaN"===t)return alert("\uc2dd\ub2e8 \uc591\uc740 \uc22b\uc790\ub9cc \uc785\ub825\uac00\ub2a5\ud569\ub2c8\ub2e4."),void(p.current.value=0)}t[e.target.name]=e.target.value,n({...t})}),[t]),W=((0,a.useRef)(""),(0,a.useCallback)((e=>{const t=new RegExp(/^[0-9]+$/);if("quantity"===e.target.name){let n=Number(e.target.value);t.test(n);if(!t.test(n)||"NaN"===n)return alert("\uc2dd\ub2e8 \uc591\uc740 \uc22b\uc790\ub9cc \uc785\ub825\uac00\ub2a5\ud569\ub2c8\ub2e4."),void(p.current.value=0)}y[e.target.name]=e.target.value,f({...y})}),[y]));(0,s.Zp)();(0,a.useLayoutEffect)((()=>((async()=>{await(0,r.uE)(T).then((e=>{if(0!==e.result.length){4===e.result.length&&(alert(T+" \uc77c\uc790\uc758 \ubaa8\ub4e0 \uc2dd\ub2e8\uc744 \uc791\uc131\ud588\uc2b5\ub2c8\ub2e4! \uc2dd\ub2e8\ub2ec\ub825\uc73c\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4."),R());let t="";e.result.forEach((e=>{t+=e.choose})),D((()=>(e=>{if(!e)return;const t=e.split("");let n="";for(let a of t)switch(a){case"1":n+="\uc544\uce68 ";break;case"2":n+="\uc810\uc2ec ";break;case"3":n+="\uc800\ub141 ";break;case"4":n+="\uac04\uc2dd ";break;default:n+=""}return n})(t))),z((()=>(e=>{if(!e)return;return e.split("")})(t))),j(!0)}else j(!1)})).catch((e=>{_(e)}))})(),()=>{j(!1),z((()=>[])),D((()=>""))})),[]),(0,a.useEffect)((()=>{0!==B.length&&B.forEach((e=>{"1"===e&&(G.current.disabled=!0),"2"===e&&(I.current.disabled=!0),"3"===e&&(O.current.disabled=!0),"4"===e&&(P.current.disabled=!0)}))}),[B]);const Z=e=>{const t=e.target.dataset.finalcontent,n=e.target.dataset.finalquantity;if(0===$.findIndex((e=>e.content===t&&e.quantity===n))&&1===$.length)E([]);else{const e=$.filter((e=>!(e.content===t&&e.quantity===n)));E(e)}};return(0,u.jsxs)("div",{className:"container",children:[(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),(0,u.jsx)("h4",{children:"\uc2dd\ub2e8\uc791\uc131"}),(0,u.jsx)("hr",{}),(0,u.jsx)("br",{}),m?(0,u.jsxs)("h5",{children:["\ud83d\ude05 ",T," \uc77c\uc790\uc5d0 ",N,"\uc2dd\ub2e8\uc740 \uc791\uc131\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4!"]}):(0,u.jsxs)("h5",{children:["\ud83d\ude05 ",T," \uc77c\uc790\uc5d0 \ucc98\uc74c \uc791\uc131\ud558\ub294 \uc2dd\ub2e8\uc785\ub2c8\ub2e4. "]}),(0,u.jsx)("br",{}),(0,u.jsxs)(d.A,{onSubmit:e=>{if(e.preventDefault(),!e.target.choose.value)return void alert("\uc2dc\uac04\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694!");if(C(!1),t.choose=e.target.choose.value,t.email=L,t.dateobject=T,0===q.length)return alert("\uc2dd\ub2e8\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694!"),void C(!0);q.join(" ");t.quantity=0,n({...t}),k({dietParam:t,finalObjectArray:$}).then((e=>{"success"===e.payload.result&&(alert(T+" \uc77c\uc790 \uc2dd\ub2e8 \ub4f1\ub85d\ud588\uc2b5\ub2c8\ub2e4.!"),R()),e.payload.error&&(alert(T+" \uc77c\uc790 \uc2dd\ub2e8 \ub4f1\ub85d \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),S(T))})).catch((e=>{alert(T+"\uc77c\uc790 \uc2dd\ub2e8 \ub4f1\ub85d \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),S(T)}))},children:[(0,u.jsxs)(d.A.Group,{className:"mb-3",children:[(0,u.jsx)(d.A.Label,{children:"\uc2dd\ub2e8\uc77c\uc790"}),(0,u.jsx)(d.A.Control,{type:"text",name:"dateobject",value:T,disabled:!0}),(0,u.jsx)(d.A.Text,{className:"text-muted"})]}),(0,u.jsx)("br",{}),(0,u.jsxs)(d.A.Group,{className:"mb-3",children:[(0,u.jsx)(d.A.Label,{children:"\uc2dc\uac04\uc120\ud0dd"}),(0,u.jsxs)("div",{className:"mb-3",children:[0!==B.length&&(0,u.jsxs)(u.Fragment,{children:["\xa0",(0,u.jsx)(h.A,{src:"/img/cabbage.png",style:{height:"20px",width:"20px"}}),(0,u.jsx)(d.A.Check,{inline:!0,label:"\uc544\uce68",name:"choose",type:"radio",value:1,onChange:H,ref:G}),"\xa0",(0,u.jsx)(h.A,{src:"/img/carrot.png",style:{height:"20px",width:"20px"}}),(0,u.jsx)(d.A.Check,{inline:!0,label:"\uc810\uc2ec",name:"choose",type:"radio",value:2,onChange:H,ref:I}),"\xa0",(0,u.jsx)(h.A,{src:"/img/eggplant.png",style:{height:"20px",width:"20px"}}),(0,u.jsx)(d.A.Check,{inline:!0,label:"\uc800\ub141",name:"choose",type:"radio",value:3,onChange:H,ref:O}),"\xa0",(0,u.jsx)(h.A,{src:"/img/tomato.png",style:{height:"20px",width:"20px"}}),(0,u.jsx)(d.A.Check,{inline:!0,label:"\uac04\uc2dd",name:"choose",type:"radio",value:4,onChange:H,ref:P})]}),0===B.length&&(0,u.jsxs)(u.Fragment,{children:["\xa0",(0,u.jsx)(h.A,{src:"/img/cabbage.png",style:{height:"20px",width:"20px"}}),(0,u.jsx)(d.A.Check,{inline:!0,label:"\uc544\uce68",name:"choose",type:"radio",value:1,onChange:H}),"\xa0",(0,u.jsx)(h.A,{src:"/img/carrot.png",style:{height:"20px",width:"20px"}}),(0,u.jsx)(d.A.Check,{inline:!0,label:"\uc810\uc2ec",name:"choose",type:"radio",value:2,onChange:H}),"\xa0",(0,u.jsx)(h.A,{src:"/img/eggplant.png",style:{height:"20px",width:"20px"}}),(0,u.jsx)(d.A.Check,{inline:!0,label:"\uc800\ub141",name:"choose",type:"radio",value:3,onChange:H}),"\xa0",(0,u.jsx)(h.A,{src:"/img/tomato.png",style:{height:"20px",width:"20px"}}),(0,u.jsx)(d.A.Check,{inline:!0,label:"\uac04\uc2dd",name:"choose",type:"radio",value:4,onChange:H})]})]},"inline-radio")]}),(0,u.jsx)("br",{}),b&&(0,u.jsx)(u.Fragment,{children:$.map(((e,t)=>(0,u.jsx)(a.Fragment,{children:(0,u.jsxs)(o.A,{className:"mb-3",children:[(0,u.jsx)(o.A.Text,{children:"\ub0b4\uc6a9\xa0\xa0"}),(0,u.jsx)(d.A.Control,{type:"text",readOnly:!0,value:`${e.content}${e.quantity}`}),(0,u.jsx)(c.A,{variant:"outline-danger",type:"button","data-finalcontent":e.content,"data-finalquantity":e.quantity,onClick:Z,children:"\uc0ad\uc81c"})]})},t)))}),v&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("br",{}),(0,u.jsxs)(o.A,{className:"mb-3",children:[(0,u.jsx)(o.A.Text,{children:"\ub0b4\uc6a9\xa0\xa0"}),(0,u.jsx)(d.A.Control,{type:"text",name:"content",value:y.content,onChange:W}),(0,u.jsx)(o.A.Text,{children:"\uc591(\ub2e8\uc704 g/ml)\xa0\xa0"}),(0,u.jsx)(d.A.Control,{type:"text",name:"quantity",value:y.quantity,onChange:W,ref:p}),(0,u.jsx)(c.A,{variant:"outline-warning",type:"button",onClick:()=>{if(""===y.content||0===y.quantity)return void alert("\ub0b4\uc6a9\uc744 \ubaa8\ub450 \uc785\ub825\ud574\uc8fc\uc138\uc694!");const e=y.content+y.quantity;E([...$,{content:y.content,quantity:y.quantity}]),F((t=>[...t,e])),f({...g}),A(!0)},children:"\ucd94\uac00"})]}),(0,u.jsx)("br",{})]}),(0,u.jsx)(c.A,{variant:"outline-primary",type:"submit",children:"\uc2dd\ub2e8 \ub4f1\ub85d"}),"\xa0",(0,u.jsx)(s.N_,{to:"../list",children:(0,u.jsx)(c.A,{variant:"outline-secondary",type:"button",children:"\uc2dd\ub2e8\ub2ec\ub825\uc774\ub3d9"})}),"\xa0",(0,u.jsx)(s.N_,{to:"/",children:(0,u.jsx)(c.A,{variant:"outline-success",type:"button",children:"\uba54\uc778\uc73c\ub85c"})}),(0,u.jsx)("br",{}),(0,u.jsx)("br",{})]})]})};var j=n(1327);const p=()=>(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(j.A,{children:(0,u.jsx)(m,{})})})},4905:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(3003),s=n(5950),i=n(1675);const l=()=>{const e=(0,a.d4)((e=>e.dietSlice)),t=(0,a.wA)(),n=(0,i.Zp)();return{dietState:e,postDietC:e=>{let{dietParam:n,finalObjectArray:a}=e;return t((0,s.lP)({dietParam:n,finalObjectArray:a}))},deleteDietC:e=>{let{choose:n,dateobject:a}=e;return t((0,s.CW)({choose:n,dateobject:a}))},moveToDietReadAll:e=>{n({pathname:`../readall/${e}`})},patchDietC:e=>t((0,s.v7)(e)),moveToDietRead:e=>{let{dateobject:t,choose:a}=e;n({pathname:`../read/${a}/${t}`,replace:"true"})},moveToDietModify:e=>{let{choose:t,dateobject:a}=e;n({pathname:`../modify/${a}/${t}`})},moveToDietCreate:e=>{n({pathname:`../create/${e}`})},getDietListC:async()=>{await t((0,s.Z7)())},moveToDietList:()=>{n({pathname:"../",replace:"true"})}}}}}]);
//# sourceMappingURL=188.2bd9d24b.chunk.js.map