"use strict";(self.webpackChunkviews=self.webpackChunkviews||[]).push([[661],{1327:(e,t,n)=>{n.d(t,{A:()=>y});var s=n(5043),a=n(3519),i=n(5171),r=n(579);const o=()=>(0,r.jsx)(i.A,{className:"bg-body-tertiary",children:(0,r.jsx)(a.A,{children:(0,r.jsx)(i.A.Brand,{children:(0,r.jsxs)("span",{style:{fontSize:"15px",textAlign:"right"},children:[(0,r.jsx)("img",{alt:"",src:"/img/thumbs-up.png",width:"30",height:"30",className:"d-inline-block align-top"})," ",'"\ubbf8\ub798\ub294 \uc624\ub298 \uc5ec\ub7ec\ubd84\uc774 \ubb34\uc5c7\uc744 \ud558\ub290\ub0d0\uc5d0 \ub2ec\ub824 \uc788\uc2b5\ub2c8\ub2e4." - \ub9c8\ud558\ud2b8\ub9c8 \uac04\ub514 ',(0,r.jsx)("br",{}),"The future depends on what we do in the present. -Mahatma Gandhi"]})})})});var l=n(7527),c=n(2691),d=n(1666),h=n(4282),m=n(3637),x=n(2104),u=n(3083),g=n(4462);n(9320),n(9317);const j=e=>{const{loginState:t,isLogin:n}=(0,g.A)(),[o,j]=(0,s.useState)(!1),[p,y]=(0,s.useState)(""),[f,v]=(0,s.useState)([]),[b,A]=(0,s.useState)(""),[w,S]=(0,s.useState)(""),D=(0,s.useRef)(),k=(0,s.useRef)(),{moveToLogin:C}=(0,g.A)(),L=(0,s.useRef)(),[M,N]=(0,s.useState)(null);(0,s.useEffect)((()=>(null===M||void 0===M||M.on("roomcreate",(function(e){var t;v((t=>[...t,{msg:e,type:"welcome",id:""}])),j((()=>!0)),null===(t=L.current)||void 0===t||t.scrollIntoView({behavior:"smooth",block:"end"})})),null===M||void 0===M||M.on("message",(function(e){var n;const{message:s,username:a,chatroomname:i}=e;v((e=>[...e,{msg:s,type:t===a?"me":"other",id:a}])),null===(n=L.current)||void 0===n||n.scrollIntoView({behavior:"smooth",block:"end"}),y((()=>""))})),null===M||void 0===M||M.on("out",(function(e){v((t=>[...t,{msg:e.message,type:"goodbye",id:""}])),M.id})),()=>{null===M||void 0===M||M.off("message"),null===M||void 0===M||M.off("out"),null===M||void 0===M||M.off("roomcreate")})),[M]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.A,{className:"bg-body-tertiary",expand:"lg",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsxs)(a.A,{fluid:!0,children:[(0,r.jsxs)(i.A.Brand,{children:[(0,r.jsx)(m.A,{src:"/img/sunglass.png",style:{height:"50px",width:"50px"}}),"\ud558\ub8e8\uad00\ub9ac"]}),(0,r.jsxs)(i.A.Collapse,{children:[(0,r.jsxs)(l.A,{className:"me-auto",children:[(0,r.jsx)(l.A.Link,{href:"/",children:"Home"}),n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.A.Link,{href:"/diary",children:"\uc0ac\uc9c4\uc77c\uae30"}),(0,r.jsx)(l.A.Link,{href:"/diet",children:"\uc2dd\ub2e8\uad00\ub9ac"}),(0,r.jsx)(l.A.Link,{href:"/exercise",children:"\uc6b4\ub3d9\uad00\ub9ac"}),(0,r.jsx)(l.A.Link,{href:"/money",children:"\uae08\uc804\uad00\ub9ac"}),(0,r.jsx)(l.A.Link,{href:"/logout",children:"\ub85c\uadf8\uc544\uc6c3"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.A.Link,{href:"/login",children:"\ub85c\uadf8\uc778"}),(0,r.jsx)(l.A.Link,{href:"/join",children:"\ud68c\uc6d0\uac00\uc785"})]})]}),(0,r.jsxs)(c.A,{onSubmit:e=>(e=>{if(e.preventDefault(),!n)return alert("\ub85c\uadf8\uc778 \ud6c4 \uc774\uc6a9\uac00\ub2a5\ud569\ub2c8\ub2e4."),C();if(""===b||void 0===b)return void alert("\ubc29 \uc774\ub984\uc744 \uc785\ub825\ud558\uc138\uc694!");if(""===w||void 0===w)return void alert("\ubc29 \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694!");const s=(0,x.io)({autoConnect:!1});s.connect(),N((()=>s));const a={username:t,chatroomname:b,chatroompassword:w};s.emit("roomcreate",a)})(e),children:[" ",(0,r.jsxs)(d.A,{size:"sm",style:{width:"600px"},children:[(0,r.jsx)(d.A.Text,{children:"\ucc44\ud305\ubc29\uba85"}),(0,r.jsx)(c.A.Control,{type:"text",name:"chatroomname",onChange:e=>{A((()=>e.target.value))},value:b,ref:D}),(0,r.jsx)(d.A.Text,{children:"\ubc29\ube44\ubc00\ubc88\ud638"}),(0,r.jsx)(c.A.Control,{type:"text",name:"chatroompassword",ref:k,onChange:e=>{S((()=>e.target.value))},value:w}),(0,r.jsx)(h.A,{variant:"outline-secondary",type:"submit",children:"\ucc44\ud305\ud558\uae30"})]})]})]})]})}),o&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"modal show",style:{display:"block"},children:(0,r.jsxs)(u.A.Dialog,{children:[(0,r.jsxs)(u.A.Header,{children:[(0,r.jsxs)(u.A.Title,{children:[" \ucc44\ud305\ubc29\uba85 : ",b," "]}),"\xa0 \xa0",(0,r.jsx)(h.A,{variant:"outline-secondary",style:{textAlign:"left"},onClick:()=>{window.confirm("\ucc44\ud305\ubc29\uc5d0\uc11c \ub098\uac00\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(M.emit("out",{chatroomname:b,loginState:t,chatroompassword:w}),N(null),v([]),A(""),S(""),j((()=>!1)))},type:"button",children:"\ucc44\ud305\ucc3d\ub2eb\uae30"})]}),(0,r.jsx)(u.A.Body,{children:(0,r.jsx)("div",{style:{overflow:"scroll",height:"500px"},children:(0,r.jsxs)("ul",{children:[f.map(((e,t)=>"welcome"===e.type||"goodbye"===e.type?(0,r.jsxs)("li",{style:{listStyle:"none"},children:[(0,r.jsx)("div",{style:{height:"0.5px",flex:"1 1 auto",padding:"0 10px",backgroundColor:"#cecece"}}),(0,r.jsx)("div",{children:e.msg}),(0,r.jsx)("div",{style:{height:"0.5px",flex:"1 1 auto",padding:"0 10px",backgroundColor:"#cecece"}})]},t):"me"===e.type?(0,r.jsxs)("li",{style:{textAlign:"left",listStyle:"none"},children:[(0,r.jsx)("div",{style:{marginTop:"5px",fontSize:"13px",fontWeight:"bold"},children:e.id}),(0,r.jsx)("div",{style:{padding:"5px",display:"inline-block",borderTopRightRadius:"20px",borderBottomLeftRadius:"20px",borderBottomRightRadius:"20px",backgroundColor:"#cecece"},children:e.msg})]},`${t}_1`):(0,r.jsxs)("li",{style:{textAlign:"right",listStyle:"none"},children:[(0,r.jsx)("div",{style:{marginTop:"5px",fontSize:"13px",fontWeight:"bold"},children:e.id}),(0,r.jsx)("div",{style:{padding:"5px",display:"inline-block",borderTopRightRadius:"20px",borderBottomLeftRadius:"20px",borderBottomRightRadius:"20px",backgroundColor:"#000",color:"#fff"},children:e.msg})]},`${t}_2`))),(0,r.jsx)("li",{ref:L,style:{listStyle:"none"}})]})})}),(0,r.jsx)(c.A,{onSubmit:e=>(e=>{e.preventDefault();const n={message:p,username:t,chatroomname:b};M.emit("message",n)})(e),children:(0,r.jsxs)(u.A.Footer,{children:[(0,r.jsxs)(d.A,{className:"mb-3",children:[(0,r.jsx)(d.A.Text,{id:"inputGroup-sizing-default",children:"\ucc44\ud305\ub0b4\uc6a9"}),(0,r.jsx)(c.A.Control,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default",onChange:e=>(e=>{y((()=>e.target.value))})(e),value:p,name:"chatcontents"})]}),(0,r.jsx)(h.A,{variant:"outline-primary",type:"submit",style:{textAlign:"right"},children:"\uba54\uc2dc\uc9c0\ubcf4\ub0b4\uae30"})]})})]})})})]})},p=e=>(0,r.jsx)(j,{isLogin:e.isLogin}),y=e=>{let{children:t}=e;const[n,a]=(0,s.useState)(new Date),{loginState:i,isLogin:l}=(0,g.A)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p,{isLogin:l}),t,(0,r.jsx)(o,{})]})}},5670:(e,t,n)=>{n.d(t,{A:()=>r});var s=n(5043),a=n(1675);const i=(e,t)=>e?parseInt(e):t,r=()=>{const e=(0,a.Zp)(),[t,n]=(0,s.useState)(!1),[r]=(0,a.ok)(),o=r.get("page")?parseInt(r.get("page")):1,l=r.get("size")?parseInt(r.get("size")):10,c=(0,a.PI)({page:o,size:l}).toString();return{moveToList:e=>{let s="";if(e){const t=i(e.page,1),n=i(e.size,10);s=(0,a.PI)({page:t,size:n}).toString()}else s=c;n(!t)},page:o,size:l,moveToModify:t=>{e({pathname:`../modify/${t}`,search:c})},refresh:t,moveToRead:t=>{e({pathname:`../read/${t}`,search:c})},moveToLogin:()=>{e({pathname:"/login"})},moveToCreate:()=>{e({pathname:"../create"})}}}},6203:(e,t,n)=>{n.d(t,{A:()=>r});var s=n(3003),a=n(6362),i=n(1675);const r=()=>{const e=(0,s.d4)((e=>e.MoneySlice)),t=(0,s.wA)(),n=(0,i.Zp)();return{moneyState:e,postMoneyC:e=>{let{moneyParam:n,finalExpenseObjectArray:s,finalIncomeObjectArray:i,dateobject:r}=e;return t((0,a.DS)({moneyParam:n,finalExpenseObjectArray:s,finalIncomeObjectArray:i,dateobject:r}))},deleteMoneyC:e=>t((0,a.YG)(e)),patchMoneyC:e=>{let{moneyParam:n,finalExpenseObjectArray:s,finalIncomeObjectArray:i,dateobject:r,bigchoose:o}=e;return t((0,a.Fe)({moneyParam:n,finalExpenseObjectArray:s,finalIncomeObjectArray:i,dateobject:r,bigchoose:o}))},moveToMoneyRead:e=>{n({pathname:`../read/${e}`})},moveToMoneyModify:e=>{n({pathname:`../modify/${e}`})},moveToMoneyCreate:e=>{n({pathname:`../create/${e}`})},getMoneyListC:async()=>{await t((0,a.PO)())},moveToMoneyList:()=>{n({pathname:"../"})}}}},8661:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var s=n(1327),a=n(5043),i=n(1675),r=(n(8999),n(3637)),o=n(5670),l=n(6203),c=n(4462),d=n(9223),h=n(579);const m=e=>{const{money:t,dateobject:n}=e.i;return t&&t.map((e=>(0,h.jsx)(a.Fragment,{children:e.id&&(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(i.N_,{to:`../read/${e.dateobject}`,style:{textDecoration:"none",color:"black"},children:["0"===e.expense?(0,h.jsx)(h.Fragment,{}):(0,h.jsxs)(h.Fragment,{children:["\uc9c0\ucd9c",(0,h.jsx)(r.A,{src:"/img/rolling-eyes.png",style:{width:"20px",height:"20px"},rounded:!0}),e.expense,(0,h.jsx)("br",{})]}),"0"===e.income?(0,h.jsx)(h.Fragment,{}):(0,h.jsxs)(h.Fragment,{children:["\uc218\uc785",(0,h.jsx)(r.A,{src:"/img/star-struck.png",style:{width:"20px",height:"20px"},rounded:!0}),e.income,(0,h.jsx)("br",{})]})]})})},e.id)))},x=()=>{const[e]=(0,i.ok)(),{moveToCreate:t}=(0,o.A)(),{exceptionHandle:n}=(0,c.A)(),s=(0,i.Zp)(),{moveToMoneyList:r}=(0,l.A)(),[x,u]=(0,a.useState)([]),[g,j]=(0,a.useState)(""),[p,y]=(0,a.useState)(""),[f,v]=(0,a.useState)(""),[b,A]=(0,a.useState)(""),[w,S]=(0,a.useState)(0),[D,k]=(0,a.useState)(0),[C,L]=(0,a.useState)([]),[M,N]=(0,a.useState)([]),[T,F]=(0,a.useState)([]),[$,R]=(0,a.useState)(""),[z,I]=(0,a.useState)(""),[E,O]=(0,a.useState)(""),[B,P]=(0,a.useState)(""),[Y,G]=(0,a.useState)(0),[H,_]=(0,a.useState)(!1);let K=e.get("year"),Z=e.get("month");(0,a.useLayoutEffect)((()=>{F((()=>[])),_((()=>!1));let e=new Date,t=e.getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n,e=`${t}-${n}-01`,null!==K&&null!==Z&&(S((()=>Number(Z))),k((()=>K)),e=new Date(`${K}-${Z}-01`)),v((()=>e));const s=new Date(e);y(""+s.getFullYear()),j(s.getMonth()+1),A((()=>s))}),[K,Z]),(0,a.useEffect)((()=>{if(""!==b){const{firstDay:e,nextDay:t,limitDay:n,lastDay:s}=(e=>{let t=new Date(e);const n=new Date(t).getFullYear(),s=new Date(t).getMonth()+1,a=new Date(t.setDate(1)).getDay(),i=new Date(n,s,0).getDate(),r=a+i;return{firstDay:a,lastDay:i,limitDay:r,nextDay:7*Math.ceil(r/7)}})(b);R(s),I(e),O(t),P(n)}return()=>{R((()=>"")),I((()=>"")),O((()=>"")),P((()=>""))}}),[b]),(0,a.useEffect)((()=>{if(!0===H){let e=[];for(let i=1,r=0;i<=$;i++,r++){let t=new Date(b).getFullYear(),n=new Date(b).getMonth()+1;n=n<10?"0"+n:n;let s=`${t}-${n}-${i<10?"0"+i:i}`;e[r]={dateitem:i,dateobject:s,money:x.filter((e=>e.dateobject===s))}}F((()=>e));const t=z-0;let n=[];if(0!==t)for(let i=1,r=0;i<=t;i++,r++)n[r]=i;L((()=>n));const s=E-B;let a=[];if(0!==s)for(let i=1,r=0;i<=s;i++,r++)a[r]=i;N((()=>a))}}),[H]),(0,a.useEffect)((()=>{if(""!==f){(async()=>await(0,d.de)({currentDate:f}).then((e=>{if(Array.isArray(e)){let t=e.map((e=>({...e,income:Number(e.income).toLocaleString("ko-KR"),expense:Number(e.expense).toLocaleString("ko-KR")})));u((()=>t)),_(!0)}else _(!0)})).catch((e=>{n(e)})))()}return()=>{u([])}}),[f]);return(0,h.jsxs)("div",{className:"container",children:[" ",(0,h.jsx)("section",{className:"py-5",children:(0,h.jsxs)("div",{className:"calrap",style:{margin:"0 auto"},children:[(0,h.jsxs)("div",{className:"calheader",children:[(0,h.jsx)("div",{className:"calbtn calprevDay",children:(0,h.jsx)("button",{onClick:()=>(e=>{const t=new Date(e);let n=new Date(t.setMonth(t.getMonth()-1)),a=new Date(n).getFullYear(),i=new Date(n).getMonth()+1;i=i<10?"0"+i:i,s(`?year=${a}&month=${i}`)})(f),children:"\uc774\uc804"})}),(0,h.jsxs)("h2",{className:"caldateTitle",children:[p,"\ub144 ",g,"\uc6d4"]}),(0,h.jsx)("div",{className:"calbtn calnextDay",children:(0,h.jsx)("button",{onClick:()=>(e=>{const t=new Date(e);let n=new Date(t.setMonth(t.getMonth())),a=new Date(n).getFullYear(),i=new Date(n).getMonth()+2;i=i<10?"0"+i:i,s(`?year=${a}&month=${i}`)})(f),children:"\uc774\ud6c4"})})]}),(0,h.jsx)("br",{}),(0,h.jsx)("h6",{style:{textAlign:"right",color:"tomato"},children:(0,h.jsx)("i",{children:"\uc77c\uc790 \ud074\ub9ad\uc2dc \uba38\ub2c8\ub4f1\ub85d\ud398\uc774\uc9c0\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4!"})}),(0,h.jsx)("br",{}),(0,h.jsxs)("div",{className:"calgrid caldateHead",children:[(0,h.jsx)("div",{children:"\uc77c"},"0"),(0,h.jsx)("div",{children:"\uc6d4"},"1"),(0,h.jsx)("div",{children:"\ud654"},"2"),(0,h.jsx)("div",{children:"\uc218"},"3"),(0,h.jsx)("div",{children:"\ubaa9"},"4"),(0,h.jsx)("div",{children:"\uae08"},"5"),(0,h.jsx)("div",{children:"\ud1a0"},"6")]}),(0,h.jsxs)("div",{className:"calgrid caldateBoard",children:[C.map(((e,t)=>(0,h.jsx)("div",{},t))),T.map(((e,t)=>(0,h.jsx)("div",{children:e.money&&0!==e.money.length?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{style:{all:"unset"},type:"button",onClick:()=>{return t=e.dateobject,void(0,d.KU)({dateobject:t}).then((e=>{var n,s;Number(null===(n=e.result)||void 0===n?void 0:n.income)>0&&Number(null===(s=e.result)||void 0===s?void 0:s.expense)>0&&alert(t+" \uc77c\uc790\uc5d0 \uc218\uc785 \uc9c0\ucd9c \ubaa8\ub450 \uc791\uc131\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4!")})).catch((e=>{}));var t},children:e.dateitem}),(0,h.jsx)("br",{}),(0,h.jsx)(m,{i:e},t)]}):(0,h.jsx)(i.N_,{to:`../create/${e.dateobject}`,style:{textDecoration:"none",color:"inherit"},children:e.dateitem})},t))),M.map(((e,t)=>(0,h.jsx)("div",{},t)))]})]})})]})},u=()=>(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(s.A,{children:(0,h.jsx)(x,{})})})},8999:()=>{}}]);
//# sourceMappingURL=661.af4a3af9.chunk.js.map