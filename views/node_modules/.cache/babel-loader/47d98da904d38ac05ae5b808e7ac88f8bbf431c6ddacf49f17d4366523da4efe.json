{"ast":null,"code":"import useCustomLogin from \"../hooks/useCustomLogin\";\nimport jwtAxios from \"../util/jwtUtil\";\nimport { API_SERVER_HOST } from \"./memberApi\";\nimport axios from \"axios\";\nconst host = `${API_SERVER_HOST}/api/diary`;\n\n//다이어리 조회전체\nexport const getDiaryList = async () => {\n  console.log(\"diaryApi.js getDiaryList() 진입 \");\n  //const res = await axios.get(`${host}`);\n  const res = await jwtAxios.get(`${host}`);\n  return res.data; //thunk함수의 return으로 전달\n};\n\n//다이어리 수정\nexport const patchDiary = async ({\n  diaryParam,\n  picture\n}) => {\n  console.log(\"diaryApi.js patchDiary 매개변수 확인 picture-> \", picture);\n  console.log(\"diaryApi.js patchDiary 매개변수 확인 picture.files[0]-> \", picture.files[0]);\n  console.log(\"diaryApi.js postDiary 매개변수 확인 diaryParam-> \", diaryParam);\n  const formData = new FormData();\n  formData.append(\"content\", diaryParam.content);\n  if (picture) {\n    formData.append(\"picture\", picture.files[0]);\n  }\n\n  //  const res = await axios.patch(\n  const res = await jwtAxios.patch(`${host}/modify/${diaryParam.id}`, formData, {\n    headers: {\n      \"content-type\": \"multipart/form-data\"\n    }\n  });\n  return res.data;\n};\n\n//다이어리 등록\nexport const postDiary = async ({\n  diaryParam,\n  picture\n}) => {\n  //이미지존재\n\n  console.log(\"diaryApi.js postDiary 매개변수 확인 files-> \", picture.files[0]);\n  console.log(\"diaryApi.js postDiary 매개변수 확인 diaryParam-> \", diaryParam);\n  const formData = new FormData();\n  formData.append(\"content\", diaryParam.content);\n  formData.append(\"dateobject\", diaryParam.dateobject);\n  if (picture) {\n    formData.append(\"picture\", picture.files[0]);\n  }\n  formData.append(\"email\", diaryParam.email);\n  console.log(\"diaryApi.js postDiary함수에서 FormData 만든것 확인 -> \", formData);\n\n  // const res = await axios.post(`${host}/create`, formData, {\n  const res = await jwtAxios.post(`${host}/create`, formData, {\n    headers: {\n      \"content-type\": \"multipart/form-data\"\n    }\n  });\n  return res.data;\n};\n\n//다이어리 삭제\nexport const deleteDiary = async id => {\n  //const res = await axios.delete(`${host}/remove/${dateobject}`);\n  const res = await jwtAxios.delete(`${host}/remove/${id}`);\n  return res.data;\n};\n\n//다이어리 조회1개\nexport const getDiary = async id => {\n  console.log(\"diaryApi.js getDiary() 진입\");\n  const res = await jwtAxios.get(`${host}/read/${id}`);\n  return res;\n};","map":{"version":3,"names":["useCustomLogin","jwtAxios","API_SERVER_HOST","axios","host","getDiaryList","console","log","res","get","data","patchDiary","diaryParam","picture","files","formData","FormData","append","content","patch","id","headers","postDiary","dateobject","email","post","deleteDiary","delete","getDiary"],"sources":["C:/Users/win10/Desktop/picdiary/views/src/api/diaryApi.js"],"sourcesContent":["import useCustomLogin from \"../hooks/useCustomLogin\";\r\nimport jwtAxios from \"../util/jwtUtil\";\r\nimport { API_SERVER_HOST } from \"./memberApi\";\r\nimport axios from \"axios\";\r\nconst host = `${API_SERVER_HOST}/api/diary`;\r\n\r\n//다이어리 조회전체\r\nexport const getDiaryList = async () => {\r\n  console.log(\"diaryApi.js getDiaryList() 진입 \");\r\n  //const res = await axios.get(`${host}`);\r\n  const res = await jwtAxios.get(`${host}`);\r\n\r\n  return res.data; //thunk함수의 return으로 전달\r\n};\r\n\r\n//다이어리 수정\r\nexport const patchDiary = async ({ diaryParam, picture }) => {\r\n  console.log(\"diaryApi.js patchDiary 매개변수 확인 picture-> \", picture);\r\n\r\n  console.log(\r\n    \"diaryApi.js patchDiary 매개변수 확인 picture.files[0]-> \",\r\n    picture.files[0]\r\n  );\r\n  console.log(\"diaryApi.js postDiary 매개변수 확인 diaryParam-> \", diaryParam);\r\n\r\n  const formData = new FormData();\r\n  formData.append(\"content\", diaryParam.content);\r\n  if (picture) {\r\n    formData.append(\"picture\", picture.files[0]);\r\n  }\r\n\r\n  //  const res = await axios.patch(\r\n  const res = await jwtAxios.patch(\r\n    `${host}/modify/${diaryParam.id}`,\r\n    formData,\r\n    {\r\n      headers: { \"content-type\": \"multipart/form-data\" },\r\n    }\r\n  );\r\n  return res.data;\r\n};\r\n\r\n//다이어리 등록\r\nexport const postDiary = async ({ diaryParam, picture }) => {\r\n  //이미지존재\r\n\r\n  console.log(\"diaryApi.js postDiary 매개변수 확인 files-> \", picture.files[0]);\r\n  console.log(\"diaryApi.js postDiary 매개변수 확인 diaryParam-> \", diaryParam);\r\n\r\n  const formData = new FormData();\r\n  formData.append(\"content\", diaryParam.content);\r\n  formData.append(\"dateobject\", diaryParam.dateobject);\r\n  if (picture) {\r\n    formData.append(\"picture\", picture.files[0]);\r\n  }\r\n  formData.append(\"email\", diaryParam.email);\r\n\r\n  console.log(\r\n    \"diaryApi.js postDiary함수에서 FormData 만든것 확인 -> \",\r\n    formData\r\n  );\r\n\r\n  // const res = await axios.post(`${host}/create`, formData, {\r\n  const res = await jwtAxios.post(`${host}/create`, formData, {\r\n    headers: { \"content-type\": \"multipart/form-data\" },\r\n  });\r\n\r\n  return res.data;\r\n};\r\n\r\n//다이어리 삭제\r\nexport const deleteDiary = async (id) => {\r\n  //const res = await axios.delete(`${host}/remove/${dateobject}`);\r\n  const res = await jwtAxios.delete(`${host}/remove/${id}`);\r\n\r\n  return res.data;\r\n};\r\n\r\n//다이어리 조회1개\r\nexport const getDiary = async (id) => {\r\n  console.log(\"diaryApi.js getDiary() 진입\");\r\n  const res = await jwtAxios.get(`${host}/read/${id}`);\r\n  return res;\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}