{"ast":null,"code":"import useCustomLogin from\"../hooks/useCustomLogin\";import jwtAxios from\"../util/jwtUtil\";import{API_SERVER_HOST}from\"./memberApi\";import axios from\"axios\";const host=`${API_SERVER_HOST}/api/diary`;//다이어리 조회전체\nexport const getDiaryList=async _ref=>{let{currentDate}=_ref;console.log(\"diaryApi.js getDiaryList() 진입 currentDate -> \",currentDate);//const res = await axios.get(`${host}`);\nconst res=await jwtAxios.get(`${host}/${currentDate}`);return res.data;//thunk함수의 return으로 전달\n};//다이어리 수정\nexport const patchDiary=async _ref2=>{let{diaryParam,picture}=_ref2;console.log(\"diaryApi.js patchDiary 매개변수 확인 picture-> \",picture);console.log(\"diaryApi.js patchDiary 매개변수 확인 picture.files[0]-> \",picture.files[0]);console.log(\"diaryApi.js postDiary 매개변수 확인 diaryParam-> \",diaryParam);const formData=new FormData();formData.append(\"content\",diaryParam.content);if(picture){formData.append(\"picture\",picture.files[0]);}//  const res = await axios.patch(\nconst res=await jwtAxios.patch(`${host}/modify/${diaryParam.id}`,formData,{headers:{\"content-type\":\"multipart/form-data\"}});return res.data;};//다이어리 등록\nexport const postDiary=async _ref3=>{let{diaryParam,picture}=_ref3;//이미지존재\nconsole.log(\"diaryApi.js postDiary 매개변수 확인 files-> \",picture.files[0]);console.log(\"diaryApi.js postDiary 매개변수 확인 diaryParam-> \",diaryParam);const formData=new FormData();formData.append(\"content\",diaryParam.content);formData.append(\"dateobject\",diaryParam.dateobject);if(picture){formData.append(\"picture\",picture.files[0]);}formData.append(\"email\",diaryParam.email);console.log(\"diaryApi.js postDiary함수에서 FormData 만든것 확인 -> \",formData);// const res = await axios.post(`${host}/create`, formData, {\nconst res=await jwtAxios.post(`${host}/create`,formData,{headers:{\"content-type\":\"multipart/form-data\"}});return res.data;};//다이어리 삭제\nexport const deleteDiary=async id=>{//const res = await axios.delete(`${host}/remove/${dateobject}`);\nconst res=await jwtAxios.delete(`${host}/remove/${id}`);return res.data;};//다이어리 조회1개\nexport const getDiary=async id=>{console.log(\"diaryApi.js getDiary() 진입\");const res=await jwtAxios.get(`${host}/read/${id}`);return res;};","map":{"version":3,"names":["useCustomLogin","jwtAxios","API_SERVER_HOST","axios","host","getDiaryList","_ref","currentDate","console","log","res","get","data","patchDiary","_ref2","diaryParam","picture","files","formData","FormData","append","content","patch","id","headers","postDiary","_ref3","dateobject","email","post","deleteDiary","delete","getDiary"],"sources":["C:/Users/win10/Desktop/picdiary/views/src/api/diaryApi.js"],"sourcesContent":["import useCustomLogin from \"../hooks/useCustomLogin\";\r\nimport jwtAxios from \"../util/jwtUtil\";\r\nimport { API_SERVER_HOST } from \"./memberApi\";\r\nimport axios from \"axios\";\r\nconst host = `${API_SERVER_HOST}/api/diary`;\r\n\r\n//다이어리 조회전체\r\nexport const getDiaryList = async ({ currentDate }) => {\r\n  console.log(\"diaryApi.js getDiaryList() 진입 currentDate -> \", currentDate);\r\n  //const res = await axios.get(`${host}`);\r\n  const res = await jwtAxios.get(`${host}/${currentDate}`);\r\n\r\n  return res.data; //thunk함수의 return으로 전달\r\n};\r\n\r\n//다이어리 수정\r\nexport const patchDiary = async ({ diaryParam, picture }) => {\r\n  console.log(\"diaryApi.js patchDiary 매개변수 확인 picture-> \", picture);\r\n\r\n  console.log(\r\n    \"diaryApi.js patchDiary 매개변수 확인 picture.files[0]-> \",\r\n    picture.files[0]\r\n  );\r\n  console.log(\"diaryApi.js postDiary 매개변수 확인 diaryParam-> \", diaryParam);\r\n\r\n  const formData = new FormData();\r\n  formData.append(\"content\", diaryParam.content);\r\n  if (picture) {\r\n    formData.append(\"picture\", picture.files[0]);\r\n  }\r\n\r\n  //  const res = await axios.patch(\r\n  const res = await jwtAxios.patch(\r\n    `${host}/modify/${diaryParam.id}`,\r\n    formData,\r\n    {\r\n      headers: { \"content-type\": \"multipart/form-data\" },\r\n    }\r\n  );\r\n  return res.data;\r\n};\r\n\r\n//다이어리 등록\r\nexport const postDiary = async ({ diaryParam, picture }) => {\r\n  //이미지존재\r\n\r\n  console.log(\"diaryApi.js postDiary 매개변수 확인 files-> \", picture.files[0]);\r\n  console.log(\"diaryApi.js postDiary 매개변수 확인 diaryParam-> \", diaryParam);\r\n\r\n  const formData = new FormData();\r\n  formData.append(\"content\", diaryParam.content);\r\n  formData.append(\"dateobject\", diaryParam.dateobject);\r\n  if (picture) {\r\n    formData.append(\"picture\", picture.files[0]);\r\n  }\r\n  formData.append(\"email\", diaryParam.email);\r\n\r\n  console.log(\r\n    \"diaryApi.js postDiary함수에서 FormData 만든것 확인 -> \",\r\n    formData\r\n  );\r\n\r\n  // const res = await axios.post(`${host}/create`, formData, {\r\n  const res = await jwtAxios.post(`${host}/create`, formData, {\r\n    headers: { \"content-type\": \"multipart/form-data\" },\r\n  });\r\n\r\n  return res.data;\r\n};\r\n\r\n//다이어리 삭제\r\nexport const deleteDiary = async (id) => {\r\n  //const res = await axios.delete(`${host}/remove/${dateobject}`);\r\n  const res = await jwtAxios.delete(`${host}/remove/${id}`);\r\n\r\n  return res.data;\r\n};\r\n\r\n//다이어리 조회1개\r\nexport const getDiary = async (id) => {\r\n  console.log(\"diaryApi.js getDiary() 진입\");\r\n  const res = await jwtAxios.get(`${host}/read/${id}`);\r\n  return res;\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}