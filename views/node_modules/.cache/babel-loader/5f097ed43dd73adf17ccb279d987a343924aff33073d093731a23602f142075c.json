{"ast":null,"code":"import{useCallback,useState}from\"react\";import useCustomLogin from\"../../hooks/useCustomLogin\";import KakaoLoginComponent from\"./KakaoLoginComponent\";import Button from\"react-bootstrap/Button\";import Form from\"react-bootstrap/Form\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const initState={email:\"\",pw:\"\",nick:\"\",pwConfirm:\"\"};const JoinComponent=()=>{const[joinParam,setJoinParam]=useState({...initState});const navigate=useNavigate();const{moveToPath,doJoin}=useCustomLogin();const handleChange=useCallback(e=>{console.log(e.target.value,e.target.name);joinParam[e.target.name]=e.target.value;setJoinParam({...joinParam});},[joinParam]);const handleSubmitJoin=e=>{e.preventDefault();console.log(\"handleSubmitJoin진입!!\");console.log(e);if(joinParam.pw!==joinParam.pwConfirm){alert(\"비밀번호가 일치하지 않습니다 확인해주세요!\");return;}// const form = new FormData();\n// form.append(\"email\", joinParam.email);\n// form.append(\"pw\", joinParam.pw);\n// form.append(\"nick\", joinParam.nick);\nconst form={email:joinParam.email,pw:joinParam.pw,nick:joinParam.nick};doJoin(joinParam).then(data=>{console.log(\"JoinComponent.js handleSubmitJoin() joinPostAsync 결과 \",data);if(data.error){alert(\"이미 가입된 회원입니다. 다른 이메일주소를 입력해주세요!\");}else{alert(\"회원가입성공\");moveToPath(\"/\");}}).catch(err=>{console.log(\"JoinComponent.js handleSubmitJoin() joinPostAsync 결과 err\",err);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmitJoin,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"\\uC774\\uBA54\\uC77C\\uC8FC\\uC18C\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",name:\"email\",value:joinParam.email,onChange:handleChange}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"\\uB2C9\\uB124\\uC784\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"nick\",value:joinParam.nick,onChange:handleChange}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"\\uD328\\uC2A4\\uC6CC\\uB4DC\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",name:\"pw\",value:joinParam.pw,onChange:handleChange})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"\\uD328\\uC2A4\\uC6CC\\uB4DC \\uC7AC\\uD655\\uC778\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",name:\"pwConfirm\",value:joinParam.pwConfirm,onChange:handleChange})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"\\uAC00\\uC785\\uD558\\uAE30\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]});};export default JoinComponent;","map":{"version":3,"names":["useCallback","useState","useCustomLogin","KakaoLoginComponent","Button","Form","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","initState","email","pw","nick","pwConfirm","JoinComponent","joinParam","setJoinParam","navigate","moveToPath","doJoin","handleChange","e","console","log","target","value","name","handleSubmitJoin","preventDefault","alert","form","then","data","error","catch","err","className","children","onSubmit","Group","Label","Control","type","onChange","Text","variant"],"sources":["C:/Users/win10/Desktop/picdiary/views/src/components/member/JoinComponent.js"],"sourcesContent":["import { useCallback, useState } from \"react\";\r\nimport useCustomLogin from \"../../hooks/useCustomLogin\";\r\nimport KakaoLoginComponent from \"./KakaoLoginComponent\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nconst initState = {\r\n  email: \"\",\r\n  pw: \"\",\r\n  nick: \"\",\r\n  pwConfirm: \"\",\r\n};\r\n\r\nconst JoinComponent = () => {\r\n  const [joinParam, setJoinParam] = useState({ ...initState });\r\n\r\n  const navigate = useNavigate();\r\n  const { moveToPath, doJoin } = useCustomLogin();\r\n\r\n  const handleChange = useCallback(\r\n    (e) => {\r\n      console.log(e.target.value, e.target.name);\r\n\r\n      joinParam[e.target.name] = e.target.value;\r\n      setJoinParam({ ...joinParam });\r\n    },\r\n    [joinParam]\r\n  );\r\n\r\n  const handleSubmitJoin = (e) => {\r\n    e.preventDefault();\r\n    console.log(\"handleSubmitJoin진입!!\");\r\n    console.log(e);\r\n    if (joinParam.pw !== joinParam.pwConfirm) {\r\n      alert(\"비밀번호가 일치하지 않습니다 확인해주세요!\");\r\n      return;\r\n    }\r\n\r\n    // const form = new FormData();\r\n    // form.append(\"email\", joinParam.email);\r\n    // form.append(\"pw\", joinParam.pw);\r\n    // form.append(\"nick\", joinParam.nick);\r\n\r\n    const form = {\r\n      email: joinParam.email,\r\n      pw: joinParam.pw,\r\n      nick: joinParam.nick,\r\n    };\r\n\r\n    doJoin(joinParam)\r\n      .then((data) => {\r\n        console.log(\r\n          \"JoinComponent.js handleSubmitJoin() joinPostAsync 결과 \",\r\n          data\r\n        );\r\n        if (data.error) {\r\n          alert(\"이미 가입된 회원입니다. 다른 이메일주소를 입력해주세요!\");\r\n        } else {\r\n          alert(\"회원가입성공\");\r\n          moveToPath(\"/\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(\r\n          \"JoinComponent.js handleSubmitJoin() joinPostAsync 결과 err\",\r\n          err\r\n        );\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <br />\r\n      <br />\r\n\r\n      <h4>회원가입</h4>\r\n      <hr />\r\n      <br />\r\n      <Form onSubmit={handleSubmitJoin}>\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Label>이메일주소</Form.Label>\r\n          <Form.Control\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={joinParam.email}\r\n            onChange={handleChange}\r\n          />\r\n          <Form.Text className=\"text-muted\"></Form.Text>\r\n        </Form.Group>\r\n\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Label>닉네임</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            name=\"nick\"\r\n            value={joinParam.nick}\r\n            onChange={handleChange}\r\n          />\r\n          <Form.Text className=\"text-muted\"></Form.Text>\r\n        </Form.Group>\r\n\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Label>패스워드</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            name=\"pw\"\r\n            value={joinParam.pw}\r\n            onChange={handleChange}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Label>패스워드 재확인</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            name=\"pwConfirm\"\r\n            value={joinParam.pwConfirm}\r\n            onChange={handleChange}\r\n          />\r\n        </Form.Group>\r\n\r\n        {/* <Form.Group className=\"mb-3\" >\r\n         <Form.Check type=\"checkbox\" label=\"Check me out\" />\r\n        </Form.Group>  */}\r\n\r\n        <Button variant=\"primary\" type=\"submit\">\r\n          가입하기\r\n        </Button>\r\n      </Form>\r\n      {/* <KakaoLoginComponent /> */}\r\n      <br />\r\n      <br />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default JoinComponent;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}